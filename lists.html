
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Linked lists &#8212; Principles of programming I: Imperative computation (forever alpha) documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=eba8b062" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=f81aabf2"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'lists';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Transitioning to C" href="c.html" />
    <link rel="prev" title="AVL trees" href="avl.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
  
    <p class="title logo__title">Principles of programming I: Imperative computation (forever alpha) documentation</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="welcome.html">Welcome</a></li>
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction to imperative computation</a></li>
<li class="toctree-l1"><a class="reference internal" href="warmup.html">Warming up with the power function</a></li>
<li class="toctree-l1"><a class="reference internal" href="reasoning.html">Reasoning with imperative programs</a></li>
<li class="toctree-l1"><a class="reference internal" href="c0.html">More C0</a></li>
<li class="toctree-l1"><a class="reference internal" href="arrays.html">Arrays</a></li>
<li class="toctree-l1"><a class="reference internal" href="gcd.html">Assignment 1: GCD</a></li>
<li class="toctree-l1"><a class="reference internal" href="practice.html">Practice problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="searching.html">Searching</a></li>
<li class="toctree-l1"><a class="reference internal" href="sorting.html">Sorting - an information theoretic introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="binsearch.html">Binary search</a></li>
<li class="toctree-l1"><a class="reference internal" href="avl.html">AVL trees</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Linked lists</a></li>
<li class="toctree-l1"><a class="reference internal" href="c.html">Transitioning to C</a></li>
<li class="toctree-l1"><a class="reference internal" href="dict.html">Dictionaries and associated data structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="bitset.html">Bit sets</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/lists.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Linked lists</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#circular-lists">Circular lists</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="linked-lists">
<h1>Linked lists<a class="headerlink" href="#linked-lists" title="Link to this heading">#</a></h1>
<p>We saw linked lists briefly when looking at binary search trees and what
happens if we use a naive insertion algorithm. Usually, linked lists are dealt
with before trees, but we dealt with trees first since we’d already dealt with
searching and sorting.</p>
<p>That said, linked lists are a strange beast in the computing world.  On the one
hand, they are a generic data structure that some programming languages use to
underpin much of the structures of the language (ex: LisP – short for List
Processor – which is actualy a family of languages including Common Lisp,
Scheme and Clojure .. or functional languages like Haskell). The reason for
this is the simplicity of the structure is also its power. That said, in real
world algorithms, linked lists (or lists for short) rarely ever feature due to
the <span class="math notranslate nohighlight">\(\mathcal{O}(N)\)</span> complexity for basic operations like lookup, insert/delete at a
position, and so on.</p>
<p>And yet, they have a conceptual elegance that you can use them to understand
much about data structures. For example, lists can also be used as trees. We’ll
see a taste of the possibilities here.</p>
<p>The LisP family of languages represents a list in text form as a sequence
of items within parentheses. Below is a program represented as a (nested) list.</p>
<div class="highlight-scheme notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="p">(</span><span class="nb">max</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">y</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nb">&gt;</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">y</span><span class="p">)</span><span class="w"> </span><span class="nv">x</span><span class="w"> </span><span class="nv">y</span><span class="p">)))</span>
</pre></div>
</div>
<p>In the LisP family of languages, a list expression of the form <code class="docutils literal notranslate"><span class="pre">(a</span> <span class="pre">b</span> <span class="pre">c</span> <span class="pre">d)</span></code> is
interpreted as though the first item is an “operator” and the rest are its
“operands”. So <span class="math notranslate nohighlight">\(1+2\)</span> is notated as <code class="docutils literal notranslate"><span class="pre">(+</span> <span class="pre">1</span> <span class="pre">2)</span></code>.  The above shown
expression is to be interpreted as the following list structure</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">define</span><span class="p">]</span><span class="o">|---&gt;</span><span class="p">()</span><span class="o">|----&gt;</span><span class="p">()</span><span class="o">|----</span><span class="n">X</span>
              \       \
               \       <span class="o">--&gt;</span><span class="p">[</span><span class="k">if</span><span class="p">]</span><span class="o">|----&gt;</span><span class="p">()</span><span class="o">|-----&gt;</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="o">|----&gt;</span><span class="p">[</span><span class="n">y</span><span class="p">]</span><span class="o">|---&gt;</span><span class="n">X</span>
                \                    \
                 \                    <span class="o">--&gt;</span><span class="p">[</span><span class="o">&gt;</span><span class="p">]</span><span class="o">|---&gt;</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="o">|----&gt;</span><span class="p">[</span><span class="n">y</span><span class="p">]</span><span class="o">|----</span><span class="n">X</span>
                  \
                   <span class="o">--&gt;</span><span class="p">[</span><span class="nb">max</span><span class="p">]</span><span class="o">|----&gt;</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="o">|----&gt;</span><span class="p">[</span><span class="n">y</span><span class="p">]</span><span class="o">|---</span><span class="n">X</span>
</pre></div>
</div>
<p>A “node” in such a list consists of two “cells” - the first one holds the
“content” of the node and the second one (usually) holds a pointer or
reference to the next node. <a class="footnote-reference brackets" href="#car" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a> If you have a mechanism to indicate what type
the “content” is, then you can generalize the notion of content to include
other lists. After all, why shouldn’t we be able to make lists of lists?</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="car" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p>For historical reasons, the “content” cell is referred to as <code class="docutils literal notranslate"><span class="pre">car</span></code>
and the cell holding the pointer to the next cell is referred to as <code class="docutils literal notranslate"><span class="pre">cdr</span></code>.
They are respectively the abbreviations of “Contents of Address Register”
and “Contents of Data Register”. An unusual feature of Common Lisp is that
it lets you talk about the “contents of the address register of the contents
of the data register” (i.e. the second item in the list) using a short form
like <code class="docutils literal notranslate"><span class="pre">cadr</span></code>.</p>
</aside>
</aside>
<p>That is the facility used to represent the above program for computing the
maximum of two numbers. You can see that the list picture looks more like a
tree and indeed, it is called the “abstract syntax tree” of the program,
commonly abbreviated as AST. The lisp “language” is a direct representation of
the program’s AST. Since the language also has functions using which you can
make and manipulate lists, you can write lisp programs that produce programs
and output which are then passed to the cmopiler. It is even possible in some
lisps to write programs that can modify themselves. It is for that reason that
lisps enjoyed support during the early days of artificial intelligence when
“symbolic AI” was the dominant paradigm.</p>
<p>In code, a list’s form (i.e. interface) should be quite familiar to you by now –</p>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">Node</span><span class="w"> </span><span class="o">*</span><span class="n">list_t</span><span class="p">;</span>

<span class="k">struct</span><span class="w"> </span><span class="nc">Node</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">content</span><span class="p">;</span>
<span class="w">    </span><span class="n">list_t</span><span class="w"> </span><span class="n">next</span><span class="p">;</span>
<span class="p">};</span>

<span class="c1">// Constructs a new node with the given content</span>
<span class="c1">// and with the next pointer pointing to ... well,</span>
<span class="c1">// the rest of the list. This function is also known</span>
<span class="c1">// as &quot;cons&quot; -- short for &quot;construct a node&quot;.</span>
<span class="n">list_t</span><span class="w"> </span><span class="nf">mk_node</span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">content</span><span class="p">,</span><span class="w"> </span><span class="n">list_t</span><span class="w"> </span><span class="n">next</span><span class="p">);</span>

<span class="c1">// These get the parts of a list&#39;s node.</span>
<span class="c1">// It is conventional to talk about the first</span>
<span class="c1">// node of a list as its &quot;head&quot; and the rest of the</span>
<span class="c1">// list as its &quot;tail&quot;.</span>
<span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="nf">get_content</span><span class="p">(</span><span class="n">list_t</span><span class="w"> </span><span class="n">node</span><span class="p">);</span>
<span class="n">list_t</span><span class="w"> </span><span class="nf">get_tail</span><span class="p">(</span><span class="n">list_t</span><span class="w"> </span><span class="n">node</span><span class="p">);</span>

<span class="c1">// These modify the respective parts of a node.</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">set_content</span><span class="p">(</span><span class="n">list_t</span><span class="w"> </span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">content</span><span class="p">);</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">set_tail</span><span class="p">(</span><span class="n">list_t</span><span class="w"> </span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="n">list_t</span><span class="w"> </span><span class="n">tail</span><span class="p">);</span>
</pre></div>
</div>
<p>As with a tree, a list is also a recursively defined
data structure, where the “rest of the list” is of the
same type as the list.</p>
<p>All algorithms working on singly linked lists can be written
using the above set of functions. To represent the end of a list,
we use the <code class="docutils literal notranslate"><span class="pre">NULL</span></code> pointer. So when a node has a <code class="docutils literal notranslate"><span class="pre">next</span></code> field
which is <code class="docutils literal notranslate"><span class="pre">NULL</span></code>, it means there is no following node in the list.</p>
<div class="admonition-exercise admonition">
<p class="admonition-title">Exercise</p>
<p>Write a function to compute the length of a given list only using the above
functions. The list is passed as a pointer to the first node. What
considerations will apply?</p>
</div>
<p>For example, here is a function to insert/delete a given node after
a particular identified node in the list –</p>
<div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">insert_after</span><span class="p">(</span><span class="n">list_t</span><span class="w"> </span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="n">list_t</span><span class="w"> </span><span class="n">insertee</span><span class="p">)</span>
<span class="w">    </span><span class="c1">//@requires node != NULL</span>
<span class="w">    </span><span class="c1">//@requires insertee != NULL</span>
<span class="w">    </span><span class="c1">//@ensures node-&gt;next == insertee</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">list_t</span><span class="w"> </span><span class="n">tail</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_tail</span><span class="p">(</span><span class="n">node</span><span class="p">);</span>
<span class="w">    </span><span class="n">set_tail</span><span class="p">(</span><span class="n">insertee</span><span class="p">,</span><span class="w"> </span><span class="n">tail</span><span class="p">);</span>
<span class="w">    </span><span class="n">set_tail</span><span class="p">(</span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="n">insertee</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Note that if the insertee had a tail, that</span>
<span class="w">    </span><span class="c1">// will now be forgotten. So the following function</span>
<span class="w">    </span><span class="c1">// might be safer.</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">insert_content_after</span><span class="p">(</span><span class="n">list_t</span><span class="w"> </span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">content</span><span class="p">)</span>
<span class="w">    </span><span class="c1">//@requires node != NULL</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">insert_after</span><span class="p">(</span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="n">mk_node</span><span class="p">(</span><span class="n">content</span><span class="p">,</span><span class="w"> </span><span class="n">node</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">));</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">delete_after</span><span class="p">(</span><span class="n">list_t</span><span class="w"> </span><span class="n">node</span><span class="p">)</span>
<span class="w">    </span><span class="c1">//@requires node != NULL</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">list_t</span><span class="w"> </span><span class="n">tail</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">get_tail</span><span class="p">(</span><span class="n">node</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">tail</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">set_tail</span><span class="p">(</span><span class="n">node</span><span class="p">,</span><span class="w"> </span><span class="n">get_tail</span><span class="p">(</span><span class="n">tail</span><span class="p">));</span>
<span class="w">    </span><span class="c1">// Note that the ``tail`` pointer will now</span>
<span class="w">    </span><span class="c1">// be forgotten since, at least within this function,</span>
<span class="w">    </span><span class="c1">// there are no more references to the tail once</span>
<span class="w">    </span><span class="c1">// the variable goes out of scope.</span>
<span class="p">}</span>
</pre></div>
</div>
<section id="circular-lists">
<h2>Circular lists<a class="headerlink" href="#circular-lists" title="Link to this heading">#</a></h2>
<p>Given that the next pointer of a node of a list can refer to any node,
what if we set up a list such that the next pointer of the 10th node
points to the 5th node?</p>
<p>Such a list does not have a defined “length” property. So when trying to
compute the length of a list, we will need to ensure that the list is
not circular.</p>
<p>There is an elegant algorithm called the “hare and tortoise algorithm” that can
be used to determine whether a list is circular or not.  Note that if we
linearly scan a list, we will reach the end if and only if the list is not
circular. So a simple linear scan will not suffice.</p>
<p>Take a circular list where we number the nodes in the order we can visit them,
with the first node being 0 as usual. Furthermore, let’s say the list has (an
unknown) <span class="math notranslate nohighlight">\(N\)</span> nodes that we can visit before it loops back to the node
numbered <span class="math notranslate nohighlight">\(l\)</span>. We can then see how if we try to reach the <span class="math notranslate nohighlight">\(k\)</span>-th
node after <span class="math notranslate nohighlight">\(k\)</span> steps, we will land on the node numbered <span class="math notranslate nohighlight">\(k\)</span> if
<span class="math notranslate nohighlight">\(k \leq l\)</span>, and on the node numbered <span class="math notranslate nohighlight">\(n(k) = l + (k - l) \text{mod}
(N-l)\)</span> if <span class="math notranslate nohighlight">\(k &gt; l\)</span>.</p>
<p>The “hare and tortoise algorithm” is based on the observation that <span class="math notranslate nohighlight">\(n(k)
= n(2k)\)</span> if <span class="math notranslate nohighlight">\(k \text{mod} (N-l) = 0\)</span>. So we start with two pointers to
the beginning of the list. In each iteration we step one of them – the
“tortoise” – by one node down the list, and the other – the “hare” – by two
nodes. If the pointers ever become equal again, then the list is circular.
Otherwise the hare will reach the end of the list first and we can terminate
the iteration.</p>
<div class="admonition-exercise admonition">
<p class="admonition-title">Exercise</p>
<p>Write a function <code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">is_circular_list(node_t</span> <span class="pre">n)</span></code> which takes a pointer
to a node and uses the hare-tortoise algorithm to find out whether the list
is circular.</p>
</div>
<p>For the purpose of this course, we’ll stop there with lists and revisit them
when dealing with hash tables.</p>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="avl.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">AVL trees</p>
      </div>
    </a>
    <a class="right-next"
       href="c.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Transitioning to C</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#circular-lists">Circular lists</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Srikumar K. S.
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2021, Srikumar K. S..
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>